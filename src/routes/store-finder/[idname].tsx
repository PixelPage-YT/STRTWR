import { createSignal, For } from 'solid-js';
import { useParams } from 'solid-start';
import SmallCard from '~/components/SmallCard';
import config from '../../../config';

/**
 * Store-Finer Page (City view)
 * @returns JSX element
 */
const Store = () => {
    const params = useParams<{ idname: string }>();
    const [getCity, setCity] = createSignal<{
        cityname: string;
        idname: string;
        stores: { name: string; description: string; link: string }[];
    }>({ cityname: 'Loading...', idname: params.idname, stores: [] });
    for (let city of config.stores) {
        if (city.idname === params.idname) {
            setCity(city);
        }
    }
    return (
        <>
            <div class="grid place-items-center">
                <svg
                    width="165"
                    height="227"
                    viewBox="0 0 165 227"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M149.859 205.184H14.7965C11.0544 205.18 7.46669 203.692 4.8206 201.045C2.1745 198.399 0.686078 194.812 0.681885 191.069V14.7961C0.686146 11.054 2.17459 7.46638 4.82068 4.82032C7.46677 2.17426 11.0544 0.685859 14.7965 0.681641H149.859C153.601 0.685859 157.189 2.17426 159.835 4.82032C162.481 7.46638 163.97 11.054 163.974 14.7961V191.069C163.97 194.812 162.481 198.399 159.835 201.045C157.189 203.692 153.601 205.18 149.859 205.184Z"
                        fill="#F0F0F0"
                    />
                    <path
                        d="M149.859 205.866H14.7962C10.8733 205.861 7.11242 204.301 4.33857 201.527C1.56472 198.753 0.00441842 194.992 0 191.069V14.7962C0.004487 10.8734 1.5648 7.1125 4.33865 4.33865C7.1125 1.5648 10.8733 0.004487 14.7962 0H149.859C153.782 0.00442022 157.543 1.56471 160.316 4.33856C163.09 7.11241 164.651 10.8733 164.655 14.7962V191.069C164.651 194.992 163.09 198.753 160.317 201.527C157.543 204.301 153.782 205.861 149.859 205.866ZM14.7962 1.36335C11.2348 1.36737 7.82043 2.7839 5.30217 5.30217C2.7839 7.82044 1.36737 11.2348 1.36335 14.7962V191.069C1.3673 194.631 2.78379 198.045 5.30206 200.563C7.82034 203.082 11.2347 204.498 14.7962 204.502H149.859C153.42 204.498 156.835 203.082 159.353 200.563C161.871 198.045 163.288 194.631 163.292 191.069V14.7962C163.288 11.2347 161.871 7.82035 159.353 5.30207C156.835 2.7838 153.42 1.3673 149.859 1.36335H14.7962Z"
                        fill="#0EA5E9"
                    />
                    <path
                        d="M37.0895 110.985C36.8632 110.484 36.7477 109.941 36.7508 109.391C36.7539 108.841 36.8756 108.299 37.1075 107.8L45.2037 90.3939C46.0025 87.6978 47.8377 85.4284 50.307 84.0832C52.7762 82.738 55.6781 82.4267 58.3766 83.2176C61.075 84.0085 63.3497 85.8371 64.7021 88.3024C66.0545 90.7678 66.3743 93.6687 65.5913 96.3694L62.8853 115.438C62.808 115.982 62.6143 116.503 62.3175 116.966C62.0207 117.429 61.6276 117.822 61.1651 118.119C60.7026 118.416 60.1816 118.61 59.6374 118.687C59.0932 118.765 58.5387 118.724 58.0117 118.568L39.4895 113.08C38.9623 112.924 38.475 112.656 38.0608 112.295C37.6466 111.933 37.3153 111.487 37.0895 110.985Z"
                        fill="#3F3D56"
                    />
                    <path
                        d="M125.166 102.301L106.643 107.789C106.116 107.945 105.562 107.986 105.018 107.909C104.473 107.831 103.952 107.637 103.49 107.34C103.027 107.043 102.634 106.65 102.337 106.187C102.041 105.725 101.847 105.204 101.77 104.66L99.0637 85.591C98.2807 82.8903 98.6005 79.9893 99.9529 77.5239C101.305 75.0586 103.58 73.23 106.278 72.4391C108.977 71.6482 111.879 71.9595 114.348 73.3047C116.817 74.6499 118.653 76.9193 119.451 79.6154L127.548 97.022C127.779 97.5204 127.901 98.063 127.904 98.6126C127.907 99.1623 127.791 99.7061 127.565 100.207C127.339 100.708 127.008 101.155 126.594 101.516C126.18 101.877 125.693 102.145 125.166 102.301Z"
                        fill="#3F3D56"
                    />
                    <path
                        d="M52.2992 86.7567L66.8248 76.1927L90.5939 69.5902L110.401 73.5517L111.566 84.497C112.982 97.8107 112.367 111.262 109.741 124.391L109.259 134.509L58.2416 136.276L52.9595 127.032C52.9595 127.032 41.075 115.148 50.3185 101.943L52.2992 86.7567Z"
                        fill="#3F3D56"
                    />
                    <path
                        d="M79.9379 227C93.42 227 104.349 216.071 104.349 202.589C104.349 189.106 93.42 178.177 79.9379 178.177C66.4558 178.177 55.5264 189.106 55.5264 202.589C55.5264 216.071 66.4558 227 79.9379 227Z"
                        fill="#0EA5E9"
                    />
                    <path
                        d="M76.6075 215.294C76.186 215.294 75.7702 215.195 75.3932 215.007C75.0162 214.818 74.6882 214.544 74.4354 214.207L67.7756 205.327C67.561 205.042 67.4048 204.717 67.3159 204.372C67.2269 204.026 67.207 203.666 67.2573 203.313C67.3075 202.959 67.4269 202.619 67.6087 202.312C67.7904 202.005 68.0309 201.737 68.3164 201.523C68.602 201.309 68.9269 201.153 69.2727 201.064C69.6185 200.976 69.9783 200.956 70.3316 201.007C70.6849 201.058 71.0247 201.178 71.3316 201.36C71.6386 201.542 71.9065 201.783 72.1203 202.069L76.4774 207.878L87.668 191.092C87.8652 190.794 88.1194 190.538 88.4158 190.339C88.7122 190.139 89.0451 190 89.3954 189.93C89.7457 189.859 90.1064 189.858 90.457 189.927C90.8076 189.996 91.1411 190.134 91.4384 190.332C91.7357 190.53 91.991 190.785 92.1895 191.082C92.3881 191.379 92.5262 191.713 92.5957 192.063C92.6652 192.414 92.6649 192.774 92.5947 193.125C92.5246 193.475 92.3859 193.808 92.1868 194.105L78.8671 214.084C78.6262 214.446 78.3021 214.744 77.9221 214.954C77.5421 215.164 77.1172 215.281 76.6831 215.293C76.6579 215.293 76.6327 215.294 76.6075 215.294Z"
                        fill="white"
                    />
                </svg>
                <h1 class="lg:text-4xl text-3xl mt-5 font-heading font-medium w-96 text-center">
                    Recommended Stores in {getCity().cityname}
                </h1>
                <div class="my-5">
                    <For each={getCity().stores}>
                        {(store) => (
                            <div class="my-3">
                                <SmallCard
                                    heading={store.name}
                                    text={store.description}
                                    link={store.link}
                                />
                            </div>
                        )}
                    </For>
                </div>
            </div>
            <p class="text-slate-100 mb-5 text-center">
                We are not affiliated with any stores displayed above.
            </p>
        </>
    );
};

export default Store;
